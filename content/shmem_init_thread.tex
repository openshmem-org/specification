\apisummary{
Initializes the \openshmem{} library, similar to \FUNC{shmem\_init}, and in addition
perform the initialization required for thread-safe invocation of \openshmem{} functions.}

\begin{apidefinition}

\begin{Csynopsis}
int shmem_init_thread(int requested, int *provided);
\end{Csynopsis}

\begin{apiarguments}
\apiargument{IN}{requested}  {The thread level support requested by the user.
The correct values are SHMEM\_THREAD\_SINGLE, SHMEM\_THREAD\_FUNNELED,
SHMEM\_THREAD\_SERIALIZED, or SHMEM\_THREAD\_MULTIPLE}
\apiargument{OUT}{provided}{The thread level support provided by the \openshmem{} implementation.}
\end{apiarguments}


\apidescription{
    \FUNC{shmem\_init\_thread}  initializes the \openshmem{} library similar to
    \FUNC{shmem\_init}, and in addition perform the initialization required for
    thread-safe invocation of \openshmem{} functions. The argument
    \VAR{requested} is used to specify the desired level of thread support.
    The function returns the support level provided by the library. There are four 
    levels of threading support.
 
 \begin{itemize}
\item SHMEM\_THREAD\_SINGLE: The \openshmem{} program may not be multithreaded, 
and all \openshmem{} interfaces are invoked by a single thread. 

\item SHMEM\_THREAD\_FUNNELED: 
The \openshmem{} program may be multithreaded, however, the 
program must ensure that only one thread invokes the \openshmem{}
interfaces.

\item SHMEM\_THREAD\_SERIALIZED: 
The \openshmem{} program may be multithreaded, however, the 
program must ensure that only one thread invokes the \openshmem{}
interfaces at any given instance i.e., the \openshmem{} interfaces 
are not invoked concurrently by multiple threads.

\item SHMEM\_THREAD\_MULTIPLE: 
The \openshmem{} program may be multithreaded, and any 
thread may invoke the \openshmem{} interfaces.

\item SHMEM\_THREAD\_UNSUPPORTED: The \openshmem{} specification 
can be implemented without the support for threads, or a model beyond the four
models.
   
\end{itemize}

The function may be used to initialize \openshmem{}, and to initialize the
\openshmem{} library with thread safety, instead of \FUNC{shmem\_init}. The
\FUNC{shmem\_init\_thread}
may not be called multiple times in an \openshmem{} program.
}

\apireturnvalues{    
	NONE
    }

\apinotes{
The \openshmem{} programming model does not recognize individual threads.  Any
\openshmem{} operation initiated by a thread is considered an action of the
\ac{PE} as a whole. Thread-safety should not be activated unless needed.
Activating  thread-safety causes additional overhead even if no additional
threads are created or used.
}		


\end{apidefinition}

 
  
