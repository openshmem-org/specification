\apisummary{
  Test whether at least one variable on the local \ac{PE} has changed to a
  specified value.
}

\begin{apidefinition}

\begin{C11synopsis}
size_t @\FuncDecl{shmem\_test\_some}@(TYPE *ivars, size_t nelems, size_t *indices, int cmp, TYPE cmp_value);
\end{C11synopsis}
where \TYPE{} is one of the point-to-point synchronization types specified by
Table \ref{p2psynctypes}.

\begin{Csynopsis}
size_t @\FuncDecl{shmem\_\FuncParam{TYPENAME}\_test\_some}@(TYPE *ivars, size_t nelems, size_t *indices, int cmp,
    TYPE cmp_value);
\end{Csynopsis}
where \TYPE{} is one of the point-to-point synchronization types and has a
corresponding \TYPENAME{} specified by Table \ref{p2psynctypes}.

\begin{apiarguments}

  \apiargument{OUT}{ivars}{A pointer to an array of remotely accessible data
    objects. The type of \VAR{ivars} should match that implied in the SYNOPSIS
    section.} 
  \apiargument{IN}{nelems}{The number of elements in the \VAR{ivars} array to be
    compared with \VAR{cmp\_value}.}
  \apiargument{INOUT}{indices}{A mask array of indices into \VAR{ivars} that
    satisfy the implied condition.  The length of this array is \VAR{nelems},
    and each element to be tested must be initialized to a value greater than
    or equal to \VAR{nelems}.}
  \apiargument{IN}{cmp}{The comparison operator that compares elements of
    \VAR{ivars} with \VAR{cmp\_value}.}
  \apiargument{IN}{cmp\_value}{The value to be compared with the objects
    pointed to by \VAR{ivars}.  The type of \VAR{cmp\_value} should match that
    implied in the SYNOPSIS section.}

\end{apiarguments}

\apidescription{
  \FUNC{shmem\_test\_some} tests the numeric comparison of each symmetric
    object pointed to by \VAR{ivars} with the value \VAR{cmp\_value} according
    to the comparison operator \VAR{cmp}.  The \VAR{indices} array has the same
    intent as in \FUNC{shmem\_test\_some} in
    Section~\ref{subsec:shmem_wait_until_some}: on entry, the \VAR{indices}
    array indicates the elements to test; and on exit, the \VAR{indices} array
    indicates the elements that have satisfied the implied condition.
}

\apireturnvalues{
  \FUNC{shmem\_test\_some} returns the number of elements in \VAR{ivars} that
  satisfy the condition implied by \VAR{cmp} and \VAR{cmp\_value}.  If no
  elements in \VAR{ivars} satisfy the condition, \FUNC{shmem\_test\_some}
  returns 0.
}

\apinotes{
  None.
}

\begin{apiexamples}
  \apicexample
      {The following example demonstrates the use of \FUNC{shmem\_test\_some} to
        wait on an array of symmetric objects and return the index of an
        element that satisfies the specified condition.}
      {./example_code/shmem_test_some_example.c}
      {}
\end{apiexamples}

\end{apidefinition}
