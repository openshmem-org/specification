\apisummary{
  Test whether some number of variables on the local \ac{PE} have changed to a
  specified value.
}

\begin{apidefinition}

\begin{C11synopsis}
size_t @\FuncDecl{shmem\_test\_some}@(TYPE *ivars, size_t nelems, _Bool *status, int cmp, TYPE cmp_value);
\end{C11synopsis}
where \TYPE{} is one of the point-to-point synchronization types specified by
Table \ref{p2psynctypes}.

\begin{Csynopsis}
size_t @\FuncDecl{shmem\_\FuncParam{TYPENAME}\_test\_some}@(TYPE *ivars, size_t nelems, _Bool *status, int cmp,
    TYPE cmp_value);
\end{Csynopsis}
where \TYPE{} is one of the point-to-point synchronization types and has a
corresponding \TYPENAME{} specified by Table \ref{p2psynctypes}.

\begin{apiarguments}

  \apiargument{OUT}{ivars}{A pointer to an array of remotely accessible data
    objects. The type of \VAR{ivars} should match that implied in the SYNOPSIS
    section.} 
  \apiargument{IN}{nelems}{The number of elements in the \VAR{ivars} array to be
    compared with \VAR{cmp\_value}.}
  \apiargument{INOUT}{status}{A mask array of length \VAR{nelems}, where each
    element corresponds to the respective element in \VAR{ivars} and represents
    the status of each implied wait condition.  On input, elements of \VAR{status}
    set to 0 will be tested, and elements set to 1 will be ignored.  On output,
    each element of \VAR{status} equal to 1 corresponds to a satisfied
    condition in the respective element of \VAR{ivars} (or an ignored
    condition, if initialized to 1 on input).}
    \apiargument{IN}{cmp}{A comparison operator from Table~\ref{p2p-consts}
    that compares elements of \VAR{ivars} with \VAR{cmp\_value}.}
  \apiargument{IN}{cmp\_value}{The value to be compared with the objects
    pointed to by \VAR{ivars}.  The type of \VAR{cmp\_value} should match that
    implied in the SYNOPSIS section.}

\end{apiarguments}

\apidescription{
    The \FUNC{shmem\_test\_some} routine tests the numeric comparison of each
    symmetric object pointed to by \VAR{ivars} with the value \VAR{cmp\_value}
    according to the comparison operator \VAR{cmp}.  The \VAR{status} array has
    the same intent as in \FUNC{shmem\_wait\_until\_some} in
    Section~\ref{subsec:shmem_wait_until_some}.  On entry, the \VAR{status}
    array indicates which elements to test.  On exit, the \VAR{status} array
    indicates the elements that have satisfied the wait condition in
    \VAR{ivars} or have been ignored (because elements in \VAR{status}
    initialized to 1 are not tested).  If one or more elements of \VAR{status}
    are initialized to 0, a call \FUNC{shmem\_test\_some} may return without
    waiting on the corresponding elements in \VAR{ivar} to satisfy the wait
    condition.
}

\apireturnvalues{
    \FUNC{shmem\_test\_some} returns the number of elements in \VAR{ivars} that
    satisfied the condition implied by \VAR{cmp} and \VAR{cmp\_value},
    excluding the number of ignored elements indicated by the initial values in
    \VAR{status}.}

\apinotes{
  None.
}

\begin{apiexamples}
  \apicexample
      {The following example demonstrates the use of \FUNC{shmem\_test\_some}
      to test whether elements within an array of symmetric objects have
      satisfied a specified condition.}
      {./example_code/shmem_test_some_example.c}
      {}
\end{apiexamples}

\end{apidefinition}
