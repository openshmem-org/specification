\apisummary{
Create up to three new teams
by splitting an existing parent team into up to three subsets based on a
2D or 3D Cartesian space defined by the triplet (xrange, yrange, and zrange)
describing the size of the Cartesian space in X, Y, and Z dimensions.}

\begin{apidefinition}

\begin{Csynopsis}
void @\FuncDecl{shmem\_team\_split\_3d}@(shmem_team_t parent_team, long options,
int xrange, int yrange, int zrange, shmem_team_t *xaxis_team, shmem_team_t *yaxis_team,
shmem_team_t *zaxis_team);
\end{Csynopsis}

\begin{apiarguments}
\apiargument{IN}{parent\_team}{A valid \openshmem team. The predefined teams
\LibHandleRef{SHMEM\_TEAM\_WORLD} or \LibHandleRef{SHMEM\_TEAM\_NODE} may be
used, or any team created by the user.}

\apiargument{IN}{options}{The set of options requested for the new teams.
Multiple options may be requested by combining them with a bitwise OR operation;
otherwise, \CONST{0} can be given if no options are requested.}

\apiargument{IN}{xrange}{A non-negative integer representing the number of
elements in the first dimension.}

\apiargument{IN}{yrange}{A non-negative integer representing the number of
elements in the second dimension.}

\apiargument{IN}{zrange}{A non-negative integer representing the number of
elements in the third dimension. \CONST{0} can be given if the defined space
has no third dimension.}

\apiargument{OUT}{xaxis\_team}{A new \ac{PE} team handle representing a \ac{PE}
subset consisting of all the \acp{PE} that are in the same row in the X-axis.}

\apiargument{OUT}{yaxis\_team}{A new \ac{PE} team handle representing a \ac{PE}
subset consisting of all the \acp{PE} that are in the same column in the Y-axis.}

\apiargument{OUT}{zaxis\_team}{A new \ac{PE} team handle representing a \ac{PE}
subset consisting of all the \acp{PE} that are in the same position in in the
Z-axis.}
\end{apiarguments}

\apidescription{
The \FUNC{shmem\_team\_split\_3d} routine is a collective routine. It creates up to three new teams
by splitting an existing parent team into up to three subsets based on a
1D, 2D or 3D Cartesian space defined by the triplet (\VAR{xrange}, \VAR{yrange},
and \VAR{zrange}) describing the size of the Cartesian space in X, Y, and Z dimensions.

A 2D Cartesian space may be defined by passing \CONST{0} for the \VAR{zrange}
parameter. In this case, the zaxis team argument may be passed a null
pointer. If it is not passed as a null pointer, the zaxis team will be returned
as \LibConstRef{SHMEM\_TEAM\_NULL}.

Each subset contains all \acp{PE} that are in the same
dimension, along the X-axis, Y-axis and Z-axis. Within each subset,
the \acp{PE} are numbered based on the position of the \ac{PE} with respect to its
dimension in three-dimensional Cartesian space.

Any valid \ac{PE} team can be used as the parent team. This routine must be
called by all \acp{PE} in the parent team. The value of the triplets must be
non-negative, and the size of the parent team should be greater than or
equal to the number of discrete (x,y,z) points in the Cartesian space.
None of the parameters need to reside in symmetric memory.

In the event that the Cartesian space contains fewer points than exist \acp{PE}
in the parent team, the first N \acp{PE} in the parent team will be used
to form the new teams, where N is equal to the number of points in the
Cartesian space.

Error checking will be done to ensure a valid parent team handle is provided.

\begin{FeedbackRequest}
All errors are considered fatal and will result in the job aborting with
an informative error message.
\end{FeedbackRequest}

The following options can be supplied during team split to restrict
team functions and enable performance optimizations.  When using a given
team, the application must comply with the requirements of all options
set on that team; otherwise, the behavior is undefined.
No options are enabled on \LibHandleRef{SHMEM\_TEAM\_WORLD} or \LibHandleRef{SHMEM\_TEAM\_NODE}.

    \apitablerow{\LibConstRef{SHMEM\_TEAM\_NOCOLLECTIVE}}{
                 The new team will not be created with the necessary support
                 structures to enable team based collectives.
                 This will typically allow implementations to speed up team creation
                 and reduce \openshmem library footprint for teams with this option.
                 This option will not prevent the new team from using atomics or
                 other non-collective team based operations.}
}

\apireturnvalues{
None.
}

\apinotes{
Note that SHMEM team handles have local semantics only. That is, team
handles should not be stored in shared variables and used across other
processes. Doing so will result in unpredictable behavior.
}

\begin{apiexamples}

\end{apiexamples}

\end{apidefinition}
